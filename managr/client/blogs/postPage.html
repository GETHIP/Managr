<template name="postPage">
  <div id="fullBody">
  {{> sideNav}}
  <form class="submitComment">
  <div class="bodyContent">
    <div class="commentSection">
      {{#with blogPost}}
        {{> post}}
        <p id="line2"></p>
        {{#each comments}}
          <!-- We pass the index so we can access it as the id of the delete button.
          You shouldn't need to pass all the other parameters, but passing the index
          for some reason wipes all the other data, so we have to pass it manually -->
          {{> commentDisplay commentIndex=@index authorName=authorName authorId = authorId date=date text=text color=color}}
        {{/each}}
        {{#if userIsValid}}
          {{> writeComment}}
        {{/if}}
      {{/with}}
    </div>
    {{#if userIsValid}}
      {{> writeCommentSubmit}}
    {{/if}}
  </div>
</form>

  </div>
</template>

<template name="deleteComment">
  <div class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <h4 class="modal-title">Confirmation required</h4>
        </div>

        <div class="modal-body">
          <p>Are you sure you want to delete?</p>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-default closeButton" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-danger deleteCommentButton" data-dismiss="modal">Delete</button>
        </div>

      </div>
    </div>
  </div>
</template>

<template name="postComment">
  <div class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <h4 class="modal-title">Confirmation required</h4>
        </div>

        <div class="modal-body">
          <p>Are you sure you want to publish?</p>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-default closeButton" data-dismiss="modal">Close</button>
  				<button type="button" class="btn btn-danger publishButton" data-dismiss="modal" id="publish">Publish</button>
        </div>

      </div>
    </div>
  </div>
</template>
